<body>
  <main class="responsive">
    {{> darkMode ''}}
    <div class="large-space"></div>
    {{> farts}}
  </main>
</body>

<template name="farts">
  {{#if Template.subscriptionsReady}} {{> home ''}}
  <div class="space"></div>
  {{> about ''}} {{else}} {{> loading ''}} {{/if}}
</template>

<template name="darkMode">
  <div class="absolute top right padding">
    <button class="transparent circle" id="darkModeBtn">
      <i id="dlModeIcon">{{#if isDark}}light_mode{{else}}dark_mode{{/if}}</i>
    </button>
  </div>
</template>

<template name="home">
  <article class="transparent large no-padding center-align middle-align">
    <div class="padding">
      <button class="transparent circle massive padding disable-dbl-tap-zoom" id="jaiPtBtn">
        <i class="massive">💨</i>
      </button>

      {{#if counter}}
      <h2 class="small center-align">J'ai pété {{formatNumber counter}} fois.</h2>
      <h3 class="small center-align">Le monde a pété {{formatNumber worldCounter}} fois.</h3>
      {{/if}}
    </div>
  </article>
</template>

<template name="about">
  <details class="absolute bottom padding">
    <summary class="none"><h4 class="link small">About</h4></summary>
    <p>GPT sounds like “J'ai pété” in French. It means “I farted”.</p>
    <p>The fart button has been clicked {{formatNumber worldCounter}} times.</p>
    <p>
      Source available
      <a class="link" href="https://github.com/guidouil/jaipt" target="_blank">here</a>.
    </p>
  </details>
</template>

<template name="loading">
  <div class="no-padding center-align middle-align">
    <div class="padding center-align">
      <div class="large-space"></div>
      <a class="loader large"></a>
      <div class="space"></div>
      <!-- <h4>{{_ 'loading'}}</h4> -->
    </div>
  </div>
</template>
